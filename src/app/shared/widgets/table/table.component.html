<div class="table-caption">
  <div class="table-info">
    <h3>
      Here you can see
      <span class="text-primary">{{ activeTab }}</span> orders ,&nbsp;records in
      the table :&nbsp;
      <span class="text-primary">
        {{
          dataType === "order" ? orderTableData.length : userTableData.length
        }}</span
      >
    </h3>
  </div>
  <div class="table-operation">
    <button class="btn export-btn" (click)="exportToCSV()">
      <app-svg name="download-cloud"></app-svg>
      <span>Export</span>
    </button>
  </div>
</div>
<table>
  <thead>
    <tr>
      <th *ngFor="let heading of headings">{{ heading }}</th>
    </tr>
  </thead>
  <tbody>
    <!-- Order Data Rows -->
    <ng-container *ngIf="dataType === 'order'">
      <ng-container *ngFor="let row of orderTableData">
        <tr>
          <td>{{ row.ID }}</td>
          <td>{{ row.Status }}</td>
          <td>{{ row["Commuter ID"] }}</td>
          <td>{{ row["Customer ID"] }}</td>
          <td>{{ row.From }}</td>
          <td>{{ row.To }}</td>
          <td>{{ row["Order Name"] }}</td>
          <td>{{ row["Expiry Data"] }}</td>
          <td>{{ row.Price }}</td>
          <td>{{ row.Amount }}</td>
          <td>{{ row.Breakable }}</td>
          <td>
            <img class="order-img" [src]="row.Picture" alt="Order picture" />
          </td>
        </tr>
      </ng-container>
    </ng-container>
    <!-- User Data Rows -->
    <ng-container *ngIf="dataType === 'user'">
      <ng-container *ngFor="let row of userTableData">
        <tr
          *ngIf="
            activeTab.toLowerCase() === 'all' ||
            row.role.toLowerCase() === activeTab.toLowerCase()
          "
        >
          <td>{{ row.id }}</td>
          <td>{{ row.username }}</td>
          <td>{{ row.role }}</td>
          <td>{{ row.phone }}</td>
          <td>{{ row.nationalId }}</td>
          <td>{{ row.gender }}</td>
          <td>
            <img class="user-img" [src]="row.picture" alt="User picture" />
          </td>
          <td>{{ row.totalOrders }}</td>
          <td>{{ row.canceledOrders }}</td>
          <td>{{ row.wallet }}</td>
        </tr>
      </ng-container>
    </ng-container>
  </tbody>
</table>
